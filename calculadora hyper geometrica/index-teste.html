<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora Hipergeométrica</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
    }
    .campo {
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
    }
    input {
      margin-left: 10px;
      width: 100px;
    }
    .explicacao {
      font-size: 0.9em;
      color: #555;
      margin-top: 5px;
    }
    button {
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
    }
    #resultado {
      margin-top: 30px;
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Calculadora Hipergeométrica</h1>

  <div class="campo">
    <label for="N">Population size:</label>
    <input type="number" id="N">
    <div class="explicacao">Tamanho total da população (N).</div>
  </div>

  <div class="campo">
    <label for="n">Sample size:</label>
    <input type="number" id="n">
    <div class="explicacao">Número de elementos escolhidos da população (n).</div>
  </div>

  <div class="campo">
    <label for="K">Successes in population:</label>
    <input type="number" id="K">
    <div class="explicacao">Número de sucessos na população (K).</div>
  </div>

  <div class="campo">
    <label for="k">Successes in sample:</label>
    <input type="number" id="k">
    <div class="explicacao">Número de sucessos na amostra (k).</div>
  </div>

  <button onclick="calcular()">Calcular</button>

  <div id="resultado"></div>

  <script>
    function fatorial(x) {
      if (x === 0 || x === 1) return 1;
      let res = 1;
      for (let i = 2; i <= x; i++) res *= i;
      return res;
    }

    function combinacao(n, r) {
      return fatorial(n) / (fatorial(r) * fatorial(n - r));
    }

    function calcular() {
      const N = parseInt(document.getElementById("N").value);
      const n = parseInt(document.getElementById("n").value);
      const K = parseInt(document.getElementById("K").value);
      const k = parseInt(document.getElementById("k").value);

      if (isNaN(N) || isNaN(n) || isNaN(K) || isNaN(k)) {
        document.getElementById("resultado").innerText = "Por favor, preencha todos os campos.";
        return;
      }

      const prob = (combinacao(K, k) * combinacao(N - K, n - k)) / combinacao(N, n);

      document.getElementById("resultado").innerText = 
        "Probabilidade P(X = " + k + ") = " + prob.toFixed(6);
    }
  </script>
</body>
</html>